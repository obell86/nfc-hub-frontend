/* =================================== */
/*  STYLE.CSS for NFC Hub Frontend   */
/*  (Based on Party Style v7.6+)     */
/* =================================== */

/* --- Keyframes (Animazioni) --- */

@keyframes loading-loop { 
  0% { width: 0%; } 
  50% { width: 100%; } 
  100% { width: 0%; } 
} 

@keyframes pulse { 
  0% { transform: scale(1); box-shadow: 0 0 12px #ff00ff, 0 0 22px #ff00ff; } 
  50% { transform: scale(1.03); box-shadow: 0 0 18px #ff00ff, 0 0 35px #ff00ff, 0 0 45px #00ffff; } 
  100% { transform: scale(1); box-shadow: 0 0 12px #ff00ff, 0 0 22px #ff00ff; } 
}

@keyframes animated-gradient-overlay { 
  0% { background-position: 0% 50%; opacity: 0.4; } 
  50% { background-position: 100% 50%; opacity: 0.7; } 
  100% { background-position: 0% 50%; opacity: 0.4; } 
} 

@keyframes flicker { 
  0%, 18%, 22%, 25%, 53%, 57%, 100% { 
    text-shadow: 0 0 3px #fff, 0 0 8px #fff, 0 0 15px #fff, 0 0 30px #0ff, 0 0 60px #0ff, 0 0 70px #0ff, 0 0 80px #0ff, 0 0 120px #0ff; 
    opacity: 1; 
  } 
  20%, 24%, 55% { 
    text-shadow: none; 
    opacity: 0.75; 
  } 
}

@keyframes sparkle { 
  0%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); } 
  50% { opacity: 1; transform: scale(1.2) rotate(360deg); } 
}

@keyframes shooting-star { 
  0% { transform: translateX(-150%) translateY(-150%) rotate(45deg); opacity: 0; } 
  50% { opacity: 1; } 
  100% { transform: translateX(150%) translateY(150%) rotate(45deg); opacity: 0; } 
}

@keyframes logo-float { 
  0% { transform: translateY(0px); } 
  50% { transform: translateY(-10px); } 
  100% { transform: translateY(0px); } 
} 

/* --- Stili Generali --- */

html { 
  font-size: 16px; 
  -webkit-font-smoothing: antialiased; 
  -moz-osx-font-smoothing: grayscale; 
} 

body { 
  position: relative; 
  font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
  box-sizing: border-box; 
  padding: 5vw; 
  text-align: center; 
  color: white; 
  display: flex; 
  flex-direction: column; 
  justify-content: center; 
  align-items: center; 
  min-height: 100vh; 
  margin: 0; 
  overflow: hidden; 
  background-color: black; /* BASE NERA FISSA */ 
} 

/* --- Effetti Sfondo --- */

/* Layer 1: Gradiente Overlay Animato */
body::before { 
  content: ""; 
  position: fixed; 
  top: 0; left: 0; right: 0; bottom: 0; 
  z-index: -2; /* Dietro tutto */
  background: linear-gradient(135deg, #3a003a, #003a3a, #3a003a); 
  background-size: 200% 200%; 
  animation: animated-gradient-overlay 12s ease infinite; 
} 

/* Layer 2: Sparkles Multipli */
.sparkle { 
  position: fixed; 
  z-index: -1; /* Sopra gradiente, sotto contenuto */
  border-radius: 50%; 
  background: white; 
  box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #0ff; 
  animation: sparkle 3s ease-out infinite; 
}
/* Definizioni specifiche per ogni sparkle */
.s1 { width: 3px; height: 3px; top: 10%; left: 20%; animation-delay: 0s; }
.s2 { width: 4px; height: 4px; top: 50%; left: 80%; animation-delay: -0.5s; box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #f0f; } 
.s3 { width: 2px; height: 2px; top: 80%; left: 10%; animation-delay: -1s; }
.s4 { width: 5px; height: 5px; top: 25%; left: 60%; animation-delay: -1.5s; box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff0; } 
.s5 { width: 3px; height: 3px; top: 60%; left: 30%; animation-delay: -2s; }
.s6 { width: 4px; height: 4px; top: 90%; left: 70%; animation-delay: -2.5s; }

/* Layer 3: Stella Cadente (Opzionale) */
.shooting-star { 
  position: fixed; 
  z-index: -1; /* Sopra gradiente, sotto contenuto */
  width: 2px; 
  height: 80px; 
  background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0.6)); 
  top: -50px; 
  left: 50%; 
  animation: shooting-star 8s linear infinite; 
  animation-delay: 3s; 
} 

/* --- Contenuto Principale --- */

.main-content { 
  z-index: 1; /* Sopra gli effetti sfondo */
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  width: 100%; 
}

/* Logo (se aggiunto da JS) */
#logo-container img { 
  max-width: 150px; /* Dimensione logo */
  height: auto; 
  margin-bottom: 1em; 
  animation: logo-float 3s ease-in-out infinite; 
}

/* Titolo */
h1 { 
  font-size: 8vw; /* Dimensione titolo pi√π piccola */
  max-width: 95%; 
  line-height: 1.1; 
  color: #ffffff; 
  margin-top: 0.5em; 
  margin-bottom: 1.8em; 
  animation: flicker 1.5s linear infinite; 
  word-wrap: break-word; 
} 

/* Loader */
.loader-container { 
  position: relative; 
  width: 90%; 
  max-width: 500px; 
  height: 2em; 
  background-color: rgba(51, 51, 51, 0.7); /* Leggermente trasparente */
  border-radius: 1.2em; 
  overflow: hidden; 
  margin-bottom: 2em; 
  border: 1px solid #555; 
  display: block; /* Assicurati sia visibile */
}
.loader-bar { 
  height: 100%; 
  width: 0%; 
  background: linear-gradient(90deg, #ff00ff, #00ffff); 
  border-radius: 1.2em; 
  animation: loading-loop 3s linear infinite; 
}
#percentage-text { 
  position: absolute; 
  left: 50%; top: 50%; 
  transform: translate(-50%, -50%); 
  color: white; 
  font-weight: bold; 
  font-size: 0.9em; 
  text-shadow: 1px 1px 2px rgba(0,0,0,0.8); 
  z-index: 2; 
  pointer-events: none; 
}

/* Contenitore Pulsanti */
.link-container { 
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  gap: 1.5em; 
  margin-top: 1em; 
  width: 100%; 
  max-width: 500px; 
}
/* Messaggio di caricamento/errore dentro il container */
#loading-message, 
.link-container p { 
  font-size: 1.2em; 
  opacity: 0.7; 
}

/* Pulsante */
.link-button { 
  position: relative; 
  display: block; 
  width: 100%; 
  padding: 0.9em 1em; 
  /* background gestito inline da JS */ 
  color: white; 
  text-decoration: none; 
  font-size: 1.5em; 
  border-radius: 0.6em; 
  font-weight: bold; 
  border: none; 
  cursor: pointer; 
  transition: transform 0.2s ease, box-shadow 0.3s ease; 
  box-shadow: 0 0 8px rgba(255,255,255,0.3), inset 0 0 3px 1px rgba(0,0,0,0.3); 
  line-height: 1.3; 
  backdrop-filter: blur(2px); 
  -webkit-backdrop-filter: blur(2px); /* Per supporto Safari */
} 
.link-button:hover, 
.link-button:active { 
  transform: scale(1.02); 
  box-shadow: 0 0 18px #ff00ff, 0 0 35px #ff00ff, 0 0 45px #00ffff, inset 0 0 4px 1px rgba(0,0,0,0.25); 
  animation: pulse 0.8s infinite; 
} 

/* Stili per messaggi di errore nel frontend */
.error-message { 
  color: #ff4444; 
  font-weight: bold; 
  margin-top: 2em; 
  border: 1px solid #ff4444;
  padding: 1em;
  background-color: rgba(255, 0, 0, 0.1);
  border-radius: 0.5em;
}

/* Nasconde elementi decorativi se il body ha la classe errore */
body.error-page::before, 
body.error-page::after, 
body.error-page .sparkle, 
body.error-page .shooting-star { 
  display: none; 
}
body.error-page h1 {
  animation: none;
  text-shadow: none;
  color: #ff4444;
}